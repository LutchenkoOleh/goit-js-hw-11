{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst form = document.querySelector('.form');\nconst searchBtn = document.querySelector('.btn')\nconst input = document.querySelector('.input')\nconst container = document.querySelector('.gallery')\n\n\nconst API_KEY = '44806225-40e07737f22f709bd193bb0f7';\nconst URL = `https://pixabay.com/api/?key=${API_KEY}`;\nconst imageType = 'photo';\nconst orientation = 'horizontal';\nconst safeSearch = true;\n\n\nfunction searchImg(query) {\n\n\n  return fetch(`${URL}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error('no match item')\n      }\n      return res.json()\n    })\n\n\n}\n\nform.addEventListener(\"submit\", handelSearch);\n\nfunction handelSearch(e) {\n  e.preventDefault();\n\n  const formTarget = e.currentTarget;\n  const queryValue = formTarget.elements.query.value.toLowerCase();\n  if (queryValue.length <= 0) {\n    iziToast.show({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Please write something in the search field'\n    })\n  }\n\n  searchImg(queryValue)\n    .then((data) => {\n      const results = data.hits;\n      const totalRes = data.totalHits;\n      if (totalRes === 0) {\n        iziToast.error({\n          backgroundColor: '#ef4040',\n          messageColor: '#fff',\n          messageSize: '16px',\n          position: 'topRight',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        })\n      } else {\n        results.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n          const markup = `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\"></a>\n      <div class=\"overlay\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n        <div class=\"text-wrap\">\n          <p class=\"img-text\">Likes: <span>${likes}</span></p>\n          <p class=\"img-text\">Views: <span>${views}</span></p>\n          <p class=\"img-text\">Comments: <span>${comments}</span></p>\n          <p class=\"img-text\">Downloads: <span>${downloads}</span></p>\n        </div>\n      </div>\n    </li>`\n\n          container.insertAdjacentHTML('afterbegin', markup);\n\n        })\n\n        let galleryShow = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionType: 'attr',\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n        });\n        galleryShow.on('show.simplelightbox', function () {\n\n        });\n\n      }\n\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n}\n\n\n\n// function renderImg({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n\n//   const markup = `\n//   <ul class=\"list-img\">\n//    <li class=\"item\">\n//     <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//     <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"img-class\">\n//     <p class=\"img-text\">Likes:${likes}</p>\n//     <p class=\"img-text\">Views:${views}</p>\n//     <p class=\"img-text\">Comments:${comments}</p>\n//     <p class=\"img-text\">Downloads:${downloads}</p>\n//    </li>\n//   </ul>`\n\n//   container.innerHTML = markup;\n// }\n\n\n\n"],"names":["form","container","API_KEY","URL","imageType","orientation","safeSearch","searchImg","query","res","handelSearch","e","queryValue","iziToast","data","results","webformatURL","largeImageURL","tags","likes","views","comments","downloads","markup","SimpleLightbox","err"],"mappings":"wvBAIA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACzB,SAAS,cAAc,MAAM,EACjC,SAAS,cAAc,QAAQ,EAC7C,MAAMC,EAAY,SAAS,cAAc,UAAU,EAG7CC,EAAU,qCACVC,EAAM,gCAAgCD,CAAO,GAC7CE,EAAY,QACZC,EAAc,aACdC,EAAa,GAGnB,SAASC,EAAUC,EAAO,CAGxB,OAAO,MAAM,GAAGL,CAAG,MAAMK,CAAK,eAAeJ,CAAS,gBAAgBC,CAAW,eAAeC,CAAU,EAAE,EACzG,KAAMG,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAI,KAAM,CACvB,CAAK,CAGL,CAEAT,EAAK,iBAAiB,SAAUU,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAGhB,MAAMC,EADaD,EAAE,cACS,SAAS,MAAM,MAAM,cAC/CC,EAAW,QAAU,GACvBC,EAAS,KAAK,CACZ,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,4CACf,CAAK,EAGHN,EAAUK,CAAU,EACjB,KAAME,GAAS,CACd,MAAMC,EAAUD,EAAK,KACJA,EAAK,YACL,EACfD,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACnB,CAAS,GAEDE,EAAQ,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB,CACxF,MAAMC,EAAS;AAAA;AAAA,sCAEaN,CAAa;AAAA;AAAA,oBAE/BD,CAAY,UAAUE,CAAI;AAAA;AAAA,6CAEDC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA;AAAA,WAKhDrB,EAAU,mBAAmB,aAAcsB,CAAM,CAE3D,CAAS,EAEiB,IAAIC,EAAe,aAAc,CACjD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GACxB,CAAS,EACW,GAAG,sBAAuB,UAAY,CAE1D,CAAS,EAIT,CAAK,EACA,MAAOC,GAAQ,CACd,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL"}
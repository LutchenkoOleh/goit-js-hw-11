{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nconst container = document.querySelector('.gallery')\n\nexport function renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads) {\n  const markup =\n    `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n      </a>\n        <div class=\"text-wrap\">\n          <p class=\"img-text\">Likes <span class=\"img-text-span\">${likes}</span></p>\n          <p class=\"img-text\">Views <span class=\"img-text-span\">${views}</span></p>\n          <p class=\"img-text\">Comments <span class=\"img-text-span\">${comments}</span></p>\n          <p class=\"img-text\">Downloads <span class=\"img-text-span\">${downloads}</span></p>\n        </div>\n    </li>`\n\n  container.insertAdjacentHTML('afterbegin', markup);\n\n\n  let galleryShow = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n  galleryShow.on('show.simplelightbox', function () {\n  });\n\n\n\n}\n\n\n\n\n\n\n\n","\n\nexport function searchImg(query) {\n\n  const API_KEY = '44806225-40e07737f22f709bd193bb0f7';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}`;\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  return fetch(`${URL}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error('no match item')\n      }\n      return res.json()\n    })\n}\n","import './js/render-functions'\nimport './js/pixabay-api'\nimport SimpleLightbox from \"simplelightbox\";\n\nimport iziToast from \"izitoast\";\nimport { searchImg } from './js/pixabay-api'\nimport { renderImg } from './js/render-functions'\n\nconst spin = document.querySelector('.loader')\nspin.style.opacity = 0;\n\n\nconst btn = document.querySelector('.btn');\nbtn.addEventListener('click', handleClick)\n\nfunction handleClick() {\n\n  spin.style.opacity = 1;\n}\n\n\nconst form = document.querySelector('.form');\nform.addEventListener(\"submit\", handelSearch);\n\nfunction handelSearch(e) {\n  e.preventDefault();\n\n  const formTarget = e.currentTarget;\n  const queryValue = formTarget.elements.query.value.toLowerCase();\n  if (queryValue.length <= 0) {\n    iziToast.show({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Please write something in the search field'\n    })\n\n    spin.style.opacity = 0;\n    return;\n  }\n\n\n  setTimeout(() => {\n    searchImg(queryValue)\n      .then(returnImg)\n      .catch(fetchError)\n  }, 1000)\n\n  form.reset();\n}\n\n\nfunction returnImg(data) {\n  const results = data.hits;\n  const totalRes = data.totalHits;\n\n  if (totalRes === 0) {\n    iziToast.error({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Sorry, there are no images matching your search query. Please try again!'\n    })\n  } else {\n    results.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads);\n\n    })\n  }\n\n  spin.style.opacity = '0';\n}\n\n\nfunction fetchError() {\n  iziToast.error({\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    messageSize: '16px',\n    position: 'topRight',\n    message: 'Sorry, there are no images matching your search query. Please try again!'\n  })\n}"],"names":["container","renderImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","markup","SimpleLightbox","searchImg","query","res","spin","btn","handleClick","form","handelSearch","e","queryValue","iziToast","returnImg","fetchError","data","results"],"mappings":"6vBACA,MAAMA,EAAY,SAAS,cAAc,UAAU,EAE5C,SAASC,EAAUC,EAAcC,EAAeC,EAAMC,EAAOC,EAAOC,EAAUC,EAAW,CAC9F,MAAMC,EACJ;AAAA,sCACkCN,CAAa;AAAA,kBACjCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,kEAGsBC,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA,WAI7ER,EAAU,mBAAmB,aAAcS,CAAM,EAG/B,IAAIC,EAAe,aAAc,CACjD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EACW,GAAG,sBAAuB,UAAY,CACpD,CAAG,CAIH,CC9BO,SAASC,EAAUC,EAAO,CAO/B,OAAO,MAAM,qEAAYA,CAAK,uDADX,EACuF,EAAE,EACzG,KAAMC,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAI,KAAM,CACvB,CAAK,CACL,CCRA,MAAMC,EAAO,SAAS,cAAc,SAAS,EAC7CA,EAAK,MAAM,QAAU,EAGrB,MAAMC,EAAM,SAAS,cAAc,MAAM,EACzCA,EAAI,iBAAiB,QAASC,CAAW,EAEzC,SAASA,GAAc,CAErBF,EAAK,MAAM,QAAU,CACvB,CAGA,MAAMG,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAGhB,MAAMC,EADaD,EAAE,cACS,SAAS,MAAM,MAAM,cACnD,GAAIC,EAAW,QAAU,EAAG,CAC1BC,EAAS,KAAK,CACZ,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,4CACf,CAAK,EAEDP,EAAK,MAAM,QAAU,EACrB,MACD,CAGD,WAAW,IAAM,CACfH,EAAUS,CAAU,EACjB,KAAKE,CAAS,EACd,MAAMC,CAAU,CACpB,EAAE,GAAI,EAEPN,EAAK,MAAK,CACZ,CAGA,SAASK,EAAUE,EAAM,CACvB,MAAMC,EAAUD,EAAK,KACJA,EAAK,YAEL,EACfH,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACf,CAAK,EAEDI,EAAQ,IAAI,CAAC,CAAE,aAAAvB,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB,CACxFP,EAAUC,EAAcC,EAAeC,EAAMC,EAAOC,EAAOC,EAAUC,CAAS,CAEpF,CAAK,EAGHM,EAAK,MAAM,QAAU,GACvB,CAGA,SAASS,GAAa,CACpBF,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACb,CAAG,CACH"}
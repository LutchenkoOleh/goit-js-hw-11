{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nexport function renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads) {\n\n  const container = document.querySelector('.gallery')\n  const markup =\n    `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n      </a>\n        <div class=\"text-wrap\">\n          <p class=\"img-text\">Likes <span class=\"img-text-span\">${likes}</span></p>\n          <p class=\"img-text\">Views <span class=\"img-text-span\">${views}</span></p>\n          <p class=\"img-text\">Comments <span class=\"img-text-span\">${comments}</span></p>\n          <p class=\"img-text\">Downloads <span class=\"img-text-span\">${downloads}</span></p>\n        </div>\n    </li>`\n\n  container.insertAdjacentHTML('afterbegin', markup);\n\n}\n\n\n\n\n\n\n\n","\nexport function searchImg(query) {\n\n  const API_KEY = '44806225-40e07737f22f709bd193bb0f7';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}`;\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  return fetch(`${URL}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error('no match item')\n      }\n      return res.json()\n    })\n}\n","import './js/render-functions'\nimport './js/pixabay-api'\nimport SimpleLightbox from \"simplelightbox\";\n\n\nimport iziToast from \"izitoast\";\nimport { searchImg } from './js/pixabay-api'\nimport { renderImg } from './js/render-functions'\n\nconst spin = document.querySelector('.loader')\nspin.style.opacity = 0;\n\nconst form = document.querySelector('.form');\nform.addEventListener(\"submit\", handelSearch);\n\nfunction handelSearch(e) {\n  document.querySelector('.gallery').innerHTML = \"\";\n\n  e.preventDefault();\n  spin.style.opacity = 1;\n\n\n  const formTarget = e.currentTarget;\n  const queryValue = formTarget.elements.query.value.toLowerCase();\n  if (queryValue.length <= 0) {\n    iziToast.show({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Please write something in the search field'\n    })\n\n    spin.style.opacity = 0;\n    return;\n  }\n\n  searchImg(queryValue)\n    .then(returnImg)\n    .catch(fetchError)\n\n  form.reset();\n\n}\n\n\nfunction returnImg(data) {\n  const results = data.hits;\n  const totalRes = data.totalHits;\n\n  if (totalRes === 0) {\n    iziToast.error({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Sorry, there are no images matching your search query. Please try again!'\n    })\n  } else {\n    results.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads);\n    })\n  }\n\n\n  let galleryShow = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  galleryShow.on('show.simplelightbox', function () {\n  });\n\n  galleryShow.refresh()\n\n\n  spin.style.opacity = '0';\n}\n\n\nfunction fetchError() {\n  iziToast.error({\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    messageSize: '16px',\n    position: 'topRight',\n    message: 'Sorry, there are no images matching your search query. Please try again!'\n  })\n}"],"names":["renderImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","container","markup","searchImg","query","res","spin","form","handelSearch","e","queryValue","iziToast","returnImg","fetchError","data","results","galleryShow","SimpleLightbox"],"mappings":"6vBAEO,SAASA,EAAUC,EAAcC,EAAeC,EAAMC,EAAOC,EAAOC,EAAUC,EAAW,CAE9F,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EACJ;AAAA,sCACkCP,CAAa;AAAA,kBACjCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,kEAGsBC,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA,WAI7EC,EAAU,mBAAmB,aAAcC,CAAM,CAEnD,CCnBO,SAASC,EAAUC,EAAO,CAO/B,OAAO,MAAM,qEAAYA,CAAK,uDADX,EACuF,EAAE,EACzG,KAAMC,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAI,KAAM,CACvB,CAAK,CACL,CCNA,MAAMC,EAAO,SAAS,cAAc,SAAS,EAC7CA,EAAK,MAAM,QAAU,EAErB,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvB,SAAS,cAAc,UAAU,EAAE,UAAY,GAE/CA,EAAE,eAAc,EAChBH,EAAK,MAAM,QAAU,EAIrB,MAAMI,EADaD,EAAE,cACS,SAAS,MAAM,MAAM,cACnD,GAAIC,EAAW,QAAU,EAAG,CAC1BC,EAAS,KAAK,CACZ,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,4CACf,CAAK,EAEDL,EAAK,MAAM,QAAU,EACrB,MACD,CAEDH,EAAUO,CAAU,EACjB,KAAKE,CAAS,EACd,MAAMC,CAAU,EAEnBN,EAAK,MAAK,CAEZ,CAGA,SAASK,EAAUE,EAAM,CACvB,MAAMC,EAAUD,EAAK,KACJA,EAAK,YAEL,EACfH,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACf,CAAK,EAEDI,EAAQ,IAAI,CAAC,CAAE,aAAArB,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB,CACxFP,EAAUC,EAAcC,EAAeC,EAAMC,EAAOC,EAAOC,EAAUC,CAAS,CACpF,CAAK,EAIH,IAAIgB,EAAc,IAAIC,EAAe,aAAc,CACjD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEDD,EAAY,GAAG,sBAAuB,UAAY,CACpD,CAAG,EAEDA,EAAY,QAAS,EAGrBV,EAAK,MAAM,QAAU,GACvB,CAGA,SAASO,GAAa,CACpBF,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACb,CAAG,CACH"}
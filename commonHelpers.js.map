{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["// import { createLogger } from \"vite\";\n\nexport function searchImg(query) {\n\n  const API_KEY = '44806225-40e07737f22f709bd193bb0f7';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}`;\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  return fetch(`${URL}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error('no match item')\n      }\n      return res.json()\n    })\n}\n","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { searchImg } from './pixabay-api'\n\n\nconst form = document.querySelector('.form');\nconst searchBtn = document.querySelector('.btn')\nconst input = document.querySelector('.input')\nconst container = document.querySelector('.gallery')\n\n\n\n\nform.addEventListener(\"submit\", handelSearch);\n\nfunction handelSearch(e) {\n  e.preventDefault();\n\n  const formTarget = e.currentTarget;\n  const queryValue = formTarget.elements.query.value.toLowerCase();\n  if (queryValue.length <= 0) {\n    iziToast.show({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Please write something in the search field'\n    })\n  }\n\n\n  searchImg(queryValue)\n    .then((data) => {\n      const results = data.hits;\n      const totalRes = data.totalHits;\n\n      if (totalRes === 0) {\n        iziToast.error({\n          backgroundColor: '#ef4040',\n          messageColor: '#fff',\n          messageSize: '16px',\n          position: 'topRight',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        })\n      } else {\n        results.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n          const markup =\n            `<li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n              </a>\n                <div class=\"text-wrap\">\n                  <p class=\"img-text\">Likes <span class=\"img-text-span\">${likes}</span></p>\n                  <p class=\"img-text\">Views <span class=\"img-text-span\">${views}</span></p>\n                  <p class=\"img-text\">Comments <span class=\"img-text-span\">${comments}</span></p>\n                  <p class=\"img-text\">Downloads <span class=\"img-text-span\">${downloads}</span></p>\n                </div>\n            </li>`\n\n          container.insertAdjacentHTML('afterbegin', markup);\n\n\n          let galleryShow = new SimpleLightbox('.gallery a', {\n            captions: true,\n            captionType: 'attr',\n            captionsData: 'alt',\n            captionPosition: 'bottom',\n            captionDelay: 250,\n          });\n          galleryShow.on('show.simplelightbox', function () {\n          });\n          galleryShow.refresh();\n\n          form.reset();\n        })\n      }\n    })\n\n    .catch((err) => {\n      console.log(err)\n    })\n}\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["searchImg","query","res","form","container","handelSearch","e","queryValue","iziToast","data","results","webformatURL","largeImageURL","tags","likes","views","comments","downloads","markup","galleryShow","SimpleLightbox","err"],"mappings":"6vBAEO,SAASA,EAAUC,EAAO,CAO/B,OAAO,MAAM,qEAAYA,CAAK,uDADX,EACuF,EAAE,EACzG,KAAMC,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAI,KAAM,CACvB,CAAK,CACL,CCXA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACzB,SAAS,cAAc,MAAM,EACjC,SAAS,cAAc,QAAQ,EAC7C,MAAMC,EAAY,SAAS,cAAc,UAAU,EAKnDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAGhB,MAAMC,EADaD,EAAE,cACS,SAAS,MAAM,MAAM,cAC/CC,EAAW,QAAU,GACvBC,EAAS,KAAK,CACZ,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,4CACf,CAAK,EAIHR,EAAUO,CAAU,EACjB,KAAME,GAAS,CACd,MAAMC,EAAUD,EAAK,KACJA,EAAK,YAEL,EACfD,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,WACV,QAAS,0EACnB,CAAS,EAEDE,EAAQ,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB,CACxF,MAAMC,EACJ;AAAA,8CACkCN,CAAa;AAAA,0BACjCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0EAGsBC,CAAK;AAAA,0EACLC,CAAK;AAAA,6EACFC,CAAQ;AAAA,8EACPC,CAAS;AAAA;AAAA,mBAI7Eb,EAAU,mBAAmB,aAAcc,CAAM,EAGjD,IAAIC,EAAc,IAAIC,EAAe,aAAc,CACjD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC1B,CAAW,EACDD,EAAY,GAAG,sBAAuB,UAAY,CAC5D,CAAW,EACDA,EAAY,QAAO,EAEnBhB,EAAK,MAAK,CACpB,CAAS,CAET,CAAK,EAEA,MAAOkB,GAAQ,CACd,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL"}